To conclude the assignment, we study the case in which the fluid flow does not remain constant with time; instead, it exhibits random fluctuations, according to
\begin{eqnarray}\label{eq:rndflow}
  \mbox{[fluid flow at time $nT$]} &=& \mbox{[fluid flow at time $(n-1)T$]} \, + \, \mbox{[random increment]},
\end{eqnarray}
where the random increment is modeled as a zero-mean Gaussian random variable with standard deviation of 0.35 cm$^3/$s.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{Question: Modify your script from Task 6 to incorporate \eqref{eq:rndflow}. Execute your Kalman filter simulation to cover up to $60$ minutes, plot the corresponding curves, and comment on your observations.}
\vspace{0.5cm}

The key modification is updating the process noise covariance to 
$\mathbf{Q} = \text{diag}(0, 0.35^2)$, reflecting that flow now changes randomly.

Figure~\ref{fig:task7_level} shows the fluid level no longer increases linearly. 
Instead, it follows an irregular trajectory due to flow fluctuations. The Kalman 
filter estimates (blue and red) successfully track the unpredictable changes.

Figure~\ref{fig:task7_flow} shows the true flow varies randomly between approximately 
15 and 35 cm$^3$/s. The filter estimates capture the trend while smoothing 
rapid oscillations.

The key difference from Task 6 is that the system is now stochasticâ€”the flow 
changes unpredictably at each step. The filter must continuously balance trusting 
its predictions versus incorporating new measurements.

\begin{figure}[!htbp]
  \centering
  \includegraphics[width=0.9\textwidth]{img/task7_level.png}
  \caption{Fluid level estimation with random flow.}
  \label{fig:task7_level}
\end{figure}

\begin{figure}[!htbp]
  \centering
  \includegraphics[width=0.9\textwidth]{img/task7_flow.png}
  \caption{Fluid flow estimation with random fluctuations.}
  \label{fig:task7_flow}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{Question: What are the asymptotic values of the standard deviation of the estimation error of: (i)  the fluid level (in cm); and (ii) the fluid flow (in cm$^3/$s)?}
\vspace{0.5cm}

To capture the true steady-state behavior, the simulation was extended to 200 minute (duration\_min = 200), allowing both uncertainties sufficient time to stabilize.

\begin{figure}[!htbp]
  \centering
  \includegraphics[width=0.9\textwidth]{img/task7_2v2.png}
  \caption{Evolution of estimation uncertainty. Solid: level (cm). Dashed: flow (cm$^3$/s). Blue and red curves are superimposed, confirming deterministic covariance evolution.}
  \label{fig:task7_std}
\end{figure}

From Figure~\ref{fig:task7_std}, the asymptotic values are: level uncertainty stabilizes at approximately $3.0$--$3.5$ cm and flow uncertainty at approximately $3.3$--$3.4$ cm$^3$/s. 

In Task 6 (constant flow), uncertainties decrease indefinitely due to the deterministic system. In Task 7, random flow introduces unavoidable uncertainty at each time step. At steady state, the information gained from measurements exactly balances the entropy added by process noise. Notably, the flow steady-state ($\sim 3.3$ cm$^3$/s) is comparable to the process noise level (0.35 cm$^3$/s), demonstrating that this fundamental randomness determines the estimation accuracy floor.
